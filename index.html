<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>System Access</title>

<style>
body {
  margin: 0;
  height: 100vh;
  background: #ffffff;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  overflow: hidden;
  /* ë¶€ë“œëŸ¬ìš´ transition ì œê±° */
}

/* ì˜¤ì—¼ëœ ë°°ê²½ - ì¦‰ê°ì ìœ¼ë¡œ ë³€ê²½ */
body.corrupted-bg {
  background-color: #0a0000;
  /* ìˆœê°„ì ì¸ ìƒ‰ìƒ ë°˜ì „ íš¨ê³¼ë¡œ ì¶©ê²© ë¶€ì—¬ */
  filter: invert(1); 
  animation: glitch-flash 0.2s steps(2) forwards;
}

@keyframes glitch-flash {
  0% { filter: invert(1); }
  50% { filter: invert(0); }
  100% { filter: invert(0); }
}

.center {
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.status-text {
  color: #9e9e9e;
  font-weight: 700;
  font-size: 18px;
  letter-spacing: 0.6px;
}

body.corrupted-bg .status-text {
  color: #4a0000;
}

.hidden { display: none; }

/* loading */
.loading::after {
  content: "";
  animation: dots 1.5s infinite;
}

@keyframes dots {
  0% { content: ""; }
  33% { content: "."; }
  66% { content: ".."; }
  100% { content: "..."; }
}

/* =========================
   1ì°¨ íŒì—…
   ========================= */
#topPopup {
  position: fixed;
  top: -200px;
  left: 0;
  width: 100%;
  display: flex;
  align-items: flex-start;
  background: #111;
  color: #fff;
  font-size: 13px;
  line-height: 1.6;
  box-shadow: 0 4px 12px rgba(0,0,0,0.35);
  transition: top 0.4s ease;
  z-index: 9000;
}

#topPopup.show { top: 0; }

#topPopupTextWrap {
  flex: 1;
  padding: 14px 64px 14px 16px;
}

#topPopupText {
  white-space: normal;
  word-break: break-all;
  overflow-wrap: anywhere;
}

#closeBtn {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  width: 36px;
  height: 36px;
  background: none;
  border: none;
  color: #fff;
  font-size: 20px;
  cursor: pointer;
  opacity: 0.85;
  display: none;
}

#closeBtn.show { display: block; }

/* =========================
   2ì°¨ ê²½ê³  íŒì—…
   ========================= */
#emergencyPopup {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 48px;
  background: #b00020;
  color: #fff;
  display: flex;
  align-items: center;
  overflow: hidden;
  z-index: 10000;
  transform: translateY(-100%);
  transition: transform 0.4s ease;
}

#emergencyPopup.show { transform: translateY(0); }

.em-title {
  flex-shrink: 0;
  padding: 0 12px;
  font-weight: 800;
  white-space: nowrap;
}

.marquee {
  overflow: hidden;
  width: 100%;
  display: flex;
  position: relative;
}

#alertText {
  display: inline-block;
  white-space: nowrap;
  padding-left: 100%;
  will-change: transform;
}

.scroll {
  animation: marquee 30s linear infinite;
}

@keyframes marquee {
  from { transform: translateX(0); }
  to   { transform: translateX(-100%); }
}

.blink {
  animation: blink 0.05s steps(2) infinite; /* ë” ë¹ ë¥´ê²Œ ê¹œë¹¡ì„ */
}

@keyframes blink {
  0% { opacity: 1; visibility: visible; }
  50% { opacity: 0; visibility: hidden; }
  100% { opacity: 1; visibility: visible; }
}
</style>
</head>

<body>

<div id="loadingScreen" class="center">
  <div class="status-text loading">system synchronizing</div>
</div>

<div id="emptyScreen" class="center hidden">
  <div class="status-text">ë¹ˆí™”ë©´</div>
</div>

<div id="noData" class="center hidden">
  <div class="status-text">no data found</div>
</div>

<div id="topPopup">
  <div id="topPopupTextWrap">
    <span id="topPopupText"></span>
  </div>
  <button id="closeBtn">âœ•</button>
</div>

<div id="emergencyPopup">
  <div class="em-title">ê¸´ê¸‰ì¬ë‚œì•Œë¦¼</div>
  <div class="marquee">
    <span id="alertText"></span>
  </div>
</div>

<script>
const alertText = document.getElementById("alertText");
const topPopupText = document.getElementById("topPopupText");
const loadingScreen = document.getElementById("loadingScreen");
const emptyScreen = document.getElementById("emptyScreen");
const noData = document.getElementById("noData");
const topPopup = document.getElementById("topPopup");
const closeBtn = document.getElementById("closeBtn");
const emergencyPopup = document.getElementById("emergencyPopup");

const normalText = `ê·€í•˜ëŠ” í˜„ì¬ ì´ˆìì—° ì¬ë‚œì— íœ˜ë§ë¦° ìƒíƒœì…ë‹ˆë‹¤. í•˜ë‹¨ì˜ ë²ˆí˜¸ë¡œ ì—°ë½í•´ ì‹ ì†íˆ êµ¬ì¡°ë¥¼ ìš”ì²­í•˜ê³  ì•ˆì „ ìˆ˜ì¹™ì„ í•„íˆ ë”°ë¥´ì‹­ì‹œì˜¤. ğŸ“1717-8282-42 â–²ì•ˆì „ ìˆ˜ì¹™â–²ëˆˆì„ ë§ˆì£¼ì¹˜ì§€ ë§ˆì„¸ìš”.â–²ì£¼ìœ„ì˜ ìˆ¨ì„ ê³³ì„ ì°¾ìœ¼ì„¸ìš”.â–²ìš”ì›ì´ ë„ì°©í•  ë•Œê¹Œì§€ ì•„ë¬´ ì†Œë¦¬ë„ ë‚´ì§€ ë§ˆì„¸ìš”. [ì´ˆìì—°ì¬ë‚œê´€ë¦¬êµ­]`;

const corruptedText = `ê·€í•˜ëŠ” í˜„ì¬ ì´ˆìì—° ì¬ë‚œì— íœ˜ë§ë¦° ìƒíƒœì…ë‹ˆë‹¤. í•˜ë‹¨ì˜ ë²ˆí˜¸ë¡œ ì—°ë½í•´ ì‹ ì†íˆ êµ¬ì¡°ë¥¼ ìš”ì²­í•˜ê³  ì•ˆì „ ìˆ˜ì¹™ì„ í•„íˆ ë”°ë¥´ì‹­ì‹œì˜¤. ğŸ“1717-8282-42 â–²ì•ˆì „ ìˆ˜ì¹™â–²ê·¸ë¶„ê³¼ ëˆˆì„ ë§ˆì£¼ì¹˜ì„¸ìš”.â–²ì§€ê¸ˆ ë‹¹ì¥ â– â– â– ë§Œì„ ìœ„í•œ ì‹ ë„ê°€ ë˜ì„¸ìš”!â–²êµì£¼ë‹˜í–‰ë³µë¶€ë””ê±´ê°•ì €í¬ë¥¼ì‚¬ë‘ë‚´ì„¸ì˜ìš°ì •êµ¬ì›ì•„ë˜ì§€ì˜¥ë²ˆì£„í•˜ì‹œê³ íŒŒê´´ë”ìš±ì„¬ë©¸ì•„ë¦„ë‹¤ìš´ë§ê°ì„¸ê³„ë¡œêµ¬ì›ë³´ë‚´ê³¼ê±°ì¤‘ìƒì„ìƒì¡´ë¶ˆìš°í•œì†Œë§ì‚¶ì—ì„œê¸°ì¨êµ¬ì›í•˜ì†Œì„œì°¬ë¯¸ìœ„í•´ì§€ê¸ˆë°”ë¡œì°¬ì–‘í•˜ì„¸ìš”! [ì´ˆìì—°ì¬ë‚œê´€ë¦¬êµ­]`;

const now = new Date();
topPopupText.innerText = `${now.toLocaleDateString("ko-KR")} (${now.toLocaleDateString("ko-KR", { weekday: "short" })}) ğŸš¨í˜„ì¬ ì„œìš¸ ì¸ê·¼ì—ì„œ ë°œìƒí•œ ë‹¤ìˆ˜ì˜ íŠ¸ë˜í”½ ì˜¤ë¥˜ë¡œ ì¸í•œ ì¬ë‚œí”¼í•´ê°€ ì´ì–´ì§€ê³  ìˆìœ¼ë‹ˆ ê·¼ë°© í˜„ì¥ ìš”ì›ë“¤ì€ ë³¸ë¶€ë¡œ ë³µê·€ ë°”ëë‹ˆë‹¤. [ì´ˆìì—°ì¬ë‚œê´€ë¦¬êµ­]`;

alertText.textContent = normalText;

setTimeout(() => {
  loadingScreen.classList.add("hidden");
  emptyScreen.classList.remove("hidden");
  setTimeout(() => {
    topPopup.classList.add("show");
    closeBtn.classList.add("show");
  }, 3000);
}, 2200);

closeBtn.addEventListener("click", () => {
  topPopup.classList.remove("show");
  closeBtn.classList.remove("show");
  setTimeout(() => {
    emptyScreen.classList.add("hidden");
    noData.classList.remove("hidden");
    setTimeout(() => {
      emergencyPopup.classList.add("show");
      setTimeout(() => { alertText.classList.add("scroll"); }, 1000);
    }, 1000);
  }, 2000);
});

let loopCount = 1;
let changed = false;

alertText.addEventListener("animationiteration", () => {
  loopCount++;
  
  if (loopCount === 2 && !changed) {
    setTimeout(() => {
      changed = true;
      
      // ì¦‰ê°ì ì¸ ì¶©ê²© íš¨ê³¼ ì‹œì‘
      alertText.classList.add("blink");
      document.body.classList.add("corrupted-bg"); // Transition ì—†ì´ ì¦‰ì‹œ ë³€ê²½

      setTimeout(() => {
        alertText.textContent = corruptedText;

        const speedRatio = corruptedText.length / normalText.length;
        const newDuration = 30 * speedRatio;
        alertText.style.animationDuration = `${newDuration}s`;
        alertText.style.animationDelay = `-${10 * speedRatio}s`;

        setTimeout(() => {
          alertText.classList.remove("blink");
        }, 300);
      }, 150); // ê¹œë¹¡ì´ëŠ” ì•„ì£¼ ì§§ì€ ìˆœê°„ì— í…ìŠ¤íŠ¸ êµì²´
    }, 15000); 
  }
});
</script>

</body>
</html>